<html class="csstransforms no-csstransforms3d csstransitions  csstransforms3d" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  
  <meta charset="utf-8">
  <title>Elements Complete Â· Isotope Demo</title>
  
  <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
    <link href="./css/grid/fixed/grid-base.css" rel="stylesheet">
    
    <link href="./css/grid/fixed/grid-desktop.css" media="screen and (min-width: 960px)" rel="stylesheet">
    <link href="./css/grid/fixed/grid-tablet.css" media="screen and (min-width: 768px) and (max-width: 959px)" rel="stylesheet">
    
    <link href="./css/grid/fixed/grid-mobile-landscape.css" media="screen and (min-width: 480px) and (max-width: 767px)" rel="stylesheet">
    <link href="./css/grid/fixed/grid-mobile-portrait.css" media="screen and (max-width: 479px)" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>

<style>.a-b-c{position:relative;display:-moz-inline-box;display:inline-block}* html .a-b-c,*:first-child+html .a-b-c{display:inline}.a-d-e{margin:2px;border:0;padding:0;font-family:Arial,sans-serif;color:#000;background:#ddd url(//ssl.gstatic.com/editor/button-bg.png) repeat-x top left;text-decoration:none;list-style:none;vertical-align:middle;cursor:default;outline:none}.a-d-e-f-g,.a-d-e-h-g{border-style:solid;border-color:#aaa;vertical-align:top}.a-d-e-f-g{margin:0;border-width:1px 0;padding:0}.a-d-e-h-g{-moz-box-orient:vertical;margin:0 -1px;border-width:0 1px;padding:3px 4px;white-space:nowrap}* html .a-d-e-h-g{left:-1px}* html .a-d-e-i .a-d-e-f-g{left:-1px}* html .a-d-e-i .a-d-e-h-g{right:auto}*:first-child+html .a-d-e-h-g{left:-1px}*:first-child+html .a-d-e-i .a-d-e-h-g{left:1px}::root .a-d-e,::root .a-d-e-f-g{line-height:0}::root .a-d-e-h-g{line-height:normal}.a-d-e-j{background-image:none!important;opacity:.3;-moz-opacity:.3;filter:alpha(opacity=30)}.a-d-e-j .a-d-e-f-g,.a-d-e-j .a-d-e-h-g{color:#333!important;border-color:#999!important}* html .a-d-e-j,*:first-child+html .a-d-e-j{margin:2px 1px!important;padding:0 1px!important}.a-d-e-k .a-d-e-f-g,.a-d-e-k .a-d-e-h-g{border-color:#9cf #69e #69e #7af!important}.a-d-e-l,.a-d-e-m{background-color:#bbb;background-position:bottom left}.a-d-e-n .a-d-e-f-g,.a-d-e-n .a-d-e-h-g{border-color:orange}.a-d-e-o-p,.a-d-e-o-p .a-d-e-f-g,.a-d-e-o-p .a-d-e-h-g{margin-right:0}.a-d-e-o-q,.a-d-e-o-q .a-d-e-f-g{margin-left:0}.a-d-e-o-q .a-d-e-h-g{margin-left:0;border-left:1px solid #fff}.a-d-e-o-q.a-d-e-m .a-d-e-h-g{border-left:1px solid #ddd}* html .a-d-e-o-q .a-d-e-h-g,*:first-child+html .a-d-e-o-q .a-d-e-h-g{left:0}.a-r-e{position:relative;margin:2px;border:1px solid #000;padding:2px 6px;font:normal 13px "Trebuchet MS",Tahoma,Arial,sans-serif;color:#fff;background-color:#8c2425;cursor:pointer;outline:none}.a-r-e-j{border-color:#888;color:#888;background-color:#ccc;cursor:default}.a-r-e-k{border-color:#8c2425;color:#8c2425;background-color:#eaa4a5}.a-r-e-l,.a-r-e-s,.a-r-e-m{border-color:#5b4169;color:#5b4169;background-color:#d1a8ea}.a-r-e-n{border-color:#5b4169}.a-r-e-o-p{margin-right:0}.a-r-e-o-q{margin-left:0;border-left:none}.a-e{color:#036;border-color:#036;background-color:#69c}.a-e-j{border-color:#333;color:#333;background-color:#999}.a-e-k{color:#369;border-color:#369;background-color:#9cf}.a-e-l{color:#69c;border-color:#69c}</style><link href="https://ajax.googleapis.com/ajax/static/modules/gviz/1.0/table/table.css" rel="stylesheet" type="text/css"><link href="https://ajax.googleapis.com/ajax/static/modules/gviz/1.0/core/tooltip.css" rel="stylesheet" type="text/css"></head>

<body id="tiles"><div class="isotope-column-size" style=""></div>


    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="./js/jquery.isotope.min.js"></script>
    <script src="./js/respond.min.js"></script>
    
    <!-- json2html-->
    <script type="text/javascript" src="./js/jquery.json2html-3.1-min.js"></script> 
    
<script>

google.load("visualization", "1", {packages:["corechart","table"]});

    var columnSize = 0;
    var selected;
    
    var transforms = {
        'container':{"tag":"div","class":"clearfix isotope","children":function(){return($.json2html(this.placement,transforms.control));}},
        'control':{"tag":"div","class":"isotope-control isotope-item","children":[
            {"tag":"div","id":"${id}","tile-index":function(obj,index){return(index);}}
        ]}
    };
    
    var  placement = [
        {'id':'map-chart','sizing':{'default':'selected','selected':{'height':2,'width':2},'preview':{'height':1,'width':1}}},
        {'id':'map-text','sizing':{'default':'preview','selected':undefined,'preview':{'height':1,'width':1}}},
        {'id':'map-image','sizing':{'default':'preview','selected':{'height':2,'width':2},'preview':{'height':1,'width':1}}},
        {'id':'map-table','sizing':{'default':'preview','selected':{'height':2,'width':2},'preview':{'height':1,'width':2}}}];

   function tileSelect(e){
        
        //Stop the event propogation (so we don't interact with the control)
        e.stopPropagation();

        //selected control
        var index = parseInt($(this).attr('tile-index'));
        
        var prev_selected = selected;
        
        //Resize the tiles
        // also changes the selected index to the newly selected tile
        selected = sizeTiles(placement,'preview',index);
        
        //Redraw the controls
        redrawControls(index,prev_selected);
    }
    
    function createTiles(layout,transform){
        
        //create the tiles
        $('#tiles').json2html({'placement':layout},transform);
        
        //size the tiles
        // also gets the selected index (if there are any tiles that are selected)
        selected = sizeTiles(layout);
        
        //create the controls
        createControls();
    }

    function sizeTiles(layout,size,sel){
         
         var _selected;
         
        //size the tiles
        for(var count=0; count < layout.length; count++) {
            
            //set to the default size
            var _size = layout[count].sizing.default;
            
            //determine if we should apply the default sizing to this tile
            if(size) _size = size;
            else {
                //set the default selected item (if we have one)
                if(_size === 'selected') _selected = count;
                
                //we are setting the default's for the tiles
                // set the events for all preview items (and make sure we can acutally select this item)
                if(_size === 'preview' && layout[count].sizing.selected !== undefined) {
                    //bind the click event
                    $('#' + layout[count].id).on("click",tileSelect);             
                }
            }
            
            //get the sizing for this tile
            var sizing = layout[count].sizing[_size];
            
            //Determine if we should set this tile to selected
            if(sel !== undefined) 
                if(sel === count) {
                    //set the sizing 
                    sizing = layout[count].sizing['selected'];
                    
                    //bind the click event to the old selected tile
                    if(selected !== undefined) $('#' + layout[selected].id).on("click",tileSelect);
                    
                    //set the newly selected tile
                    _selected = count;
                    
                    //unbind the click event to the newly selected tile
                    $('#' + layout[_selected].id).off("click",tileSelect);
                }

            //make sure we have a size to re-adjust this tile to
            if(sizing) {
                //clear the original sizing classes
                $('#' + layout[count].id).removeClass();
                
                //add the new classes
                $('#' + layout[count].id).addClass('height' + sizing.height);
                $('#' + layout[count].id).addClass('width' + sizing.width);
                
                //add the selected class (if we were selected)
                if(_selected !== count) $('#' + layout[count].id).addClass('isotope-expand');
            }
        }
        
        //re-order the tiles to accomidate the new layout
        $('#tiles .isotope').isotope({
          //Disable standard resizing
          'masonry' : {
            //Set the column width to be the size of the column (total inc padding)
            'columnWidth' : columnSize
          }
        });
        
        return(_selected);
    }

  $(function(){
        
        //Get the column size and save it
        columnSize = $('.isotope-column-size').width();
        
        //create the tiles
        createTiles(placement,transforms.container);
        
        //Setup the isotop control for layout
        $('#tiles .isotope').isotope({
          'itemSelector' : '.isotope-control',
          
          //Disable standard resizing
          'resizable': false,
          'masonry' : {
            //Set the column width to be the size of the column (total inc padding)
            'columnWidth' : columnSize
          }
        });

  //Setup the chart
  //google.setOnLoadCallback(drawChart);

  });
  
      $(window).smartresize(function(){
        
        //Check to see if we had a column sizing change
        if(columnSize !== $('.isotope-column-size').width()) {
            
            //If so then resize the column
            columnSize = $('.isotope-column-size').width();
            
            //Redraw ALL controls (columns have changed size)
            redrawControls();
        }
 
        //Setup the isotop control for layout
        $('#tiles .isotope').isotope({
          //Disable standard resizing
          'masonry' : {
            //Set the column width to be the size of the column (total inc padding)
            'columnWidth' : columnSize
          }
        });
    });
  
  var chart,table,view,options;

      function createControls() {
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work',     11],
          ['Eat',      2],
          ['Commute',  2],
          ['Watch TV', 2],
          ['Sleep',    7]
        ]);

        options = {
      'legend':{'position': 'bottom'}
        };

        chart = new google.visualization.PieChart(document.getElementById('map-chart'));
    table = new google.visualization.Table(document.getElementById('map-table'));

    view = new google.visualization.DataView(data);
        
        //Draw the other controls
        $('#map-text').json2html({},{"tag":"table","style":"height:100%;width:100%;","children":[
            {"tag":"tbody","children":[
                {"tag":"tr","children":[
                    {"tag":"td","colspan":"3","html":""}
                  ]},
                {"tag":"tr","children":[
                    {"tag":"td","width":"33%","html":""},
                    {"tag":"td","children":[
                        {"tag":"span","style":"font-size:4.5em;color:#7b7c7c;font-weight:bold;","html":"3.5%"},
                        {"tag":"br","html":""},
                        {"tag":"span","style":"font-size:1.5em;color:#7b7c7c;","html":"PLAY TIME"}
                      ]},
                    {"tag":"td","width":"33%","html":""}
                  ]},
                {"tag":"tr","children":[
                    {"tag":"td","colspan":"3","html":""}
                  ]}
              ]}
          ]});
        //$('#map-text').html('<p style="margin-left:15%;margin-top:20%;margin-bottom:0;font-size:4.5em;color:#7b7c7c;font-weight:bold;">3.5%</p><p style="margin-left:15%;margin-top:0;font-size:1.5em;color:#7b7c7c;">PLAY TIME</p>');
        $('#map-image').html("<img style='height:100%;width:100%' src='./img/moappi-mock.png'></img>");
        //redraw the controls
        redrawControls();
      }

      //TODO redraw tiles ONLY with selected index
    function redrawControls() {
          
    chart.draw(view,options);
    table.draw(view,options);
    }
</script><script src="https://www.google.com/uds/?file=visualization&amp;v=1&amp;packages=corechart%2Ctable" type="text/javascript"></script><script src="https://www.google.com/uds/api/visualization/1.0/9eca2fc9082ae71a955f5f6b22ee82f9/format+en,default,table,corechart.I.js" type="text/javascript"></script>

<div class="clearfix isotope" style="position: relative; overflow: hidden; height: 520px; ">
  <div class="isotope-control isotope-item" style="position: absolute; left: 0px; top: 0px; -webkit-transform: translate3d(0px, 0px, 0px); ">
    <div id="map-chart" tile-index="0" class="height2 width2" style="position: relative; ">
      <div style="position: relative; width: 510px; height: 510px; " dir="ltr">
        <div style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; ">
          <svg width="510" height="510" style="overflow: hidden; ">
            <defs id="defs"></defs>
            <rect x="0" y="0" width="510" height="510" stroke="none" stroke-width="0" fill="#ffffff"></rect>
            <g>
              <rect x="98" y="455" width="315" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect>
              <g>
                <rect x="98" y="455" width="49" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect>
                <g>
                  <text text-anchor="start" x="116" y="466.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#222222">Work</text>
                </g>
                <rect x="98" y="455" width="13" height="13" stroke="none" stroke-width="0" fill="#3366cc"></rect>
              </g>
              <g>
                <rect x="168" y="455" width="38" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect>
                <g>
                  <text text-anchor="start" x="186" y="466.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#222222">Eat</text>
                </g>
                <rect x="168" y="455" width="13" height="13" stroke="none" stroke-width="0" fill="#dc3912"></rect>
              </g>
              <g>
                <rect x="227" y="455" width="74" height="13" stroke="none" stroke-width="0" fill-opacity="0" fill="#ffffff"></rect>
                <g>
                  <text text-anchor="start" x="245" y="466.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#222222">Commute</text>
                </g>
                <rect x="227" y="455" width="13" height="13" stroke="none" stroke-width="0" fill="#ff9900"></rect>
              </g>
              <path d="M372,468L372,455L359,462Z" stroke="none" stroke-width="0" fill="#cccccc"></path>
              <g>
                <text text-anchor="middle" x="386" y="466.05" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#0011cc">1/2</text>
              </g>
              <path d="M400,455L413,462L400,468Z" stroke="none" stroke-width="0" fill="#0011cc"></path>
            </g>
            <g>
              <path d="M256,256L256,99A157,157,0,0,1,296.6345900810958,407.65035472738373L256,256A0,0,0,0,0,256,256" stroke="#ffffff" stroke-width="1" fill="#3366cc"></path>
              <text text-anchor="start" x="361.18617324322963" y="244.2664063755015" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#ffffff">45.8%</text>
            </g>
            <g>
              <path d="M256,256L104.35,296.63A157,157,0,0,1,256,99L256,256A0,0,0,0,0,256,256" stroke="#ffffff" stroke-width="1" fill="#990099"></path>
              <text text-anchor="start" x="138.14318049016646" y="184.31083095035024" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#ffffff">29.2%</text>
            </g>
            <g>
              <path d="M256,256L144.98,367.02A157,157,0,0,1,104.3496452726163,296.6345900810958L256,256A0,0,0,0,0,256,256" stroke="#ffffff" stroke-width="1" fill="#109618"></path>
              <text text-anchor="start" x="130.36744954533015" y="324.4237327861386" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#ffffff">8.3%</text>
            </g>
            <g>
              <path d="M256,256L215.37,407.65A157,157,0,0,1,144.98423535371205,367.01576464628795L256,256A0,0,0,0,0,256,256" stroke="#ffffff" stroke-width="1" fill="#ff9900"></path>
              <text text-anchor="start" x="175.72948498307116" y="373.6018482455081" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#ffffff">8.3%</text>
            </g>
            <g>
              <path d="M256,256L296.63,407.65A157,157,0,0,1,215.36540991890422,407.65035472738373L256,256A0,0,0,0,0,256,256" stroke="#ffffff" stroke-width="1" fill="#dc3912"></path>
              <text text-anchor="start" x="241" y="397.26661914736013" font-family="Arial" font-size="13" stroke="none" stroke-width="0" fill="#ffffff">8.3%</text>
            </g>
            <g></g>
          </svg>
        </div>
      </div>
      <div style="display: none; position: absolute; top: 520px; left: 520px; white-space: nowrap; font-family: Arial; font-size: 13px; ">Eat</div>
      <div></div>
    </div>
  </div>
  <div class="isotope-control isotope-item" style="position: absolute; left: 0px; top: 0px; -webkit-transform: translate3d(520px, 0px, 0px); ">
    <div id="map-text" tile-index="1" class="height1 width1 isotope-expand">
      <table style="height:100%;width:100%;">
        <tbody>
          <tr>
            <td colspan="3"></td>
          </tr>
          <tr>
            <td width="33%"></td>
            <td>
              <span style="font-size:4.5em;color:#7b7c7c;font-weight:bold;">3.5%</span>
              <br>
              <span style="font-size:1.5em;color:#7b7c7c;">PLAY TIME</span>
            </td>
            <td width="33%"></td>
          </tr>
          <tr>
            <td colspan="3"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="isotope-control isotope-item" style="position: absolute; left: 0px; top: 0px; -webkit-transform: translate3d(780px, 0px, 0px); ">
    <div id="map-image" tile-index="2" class="height1 width1 isotope-expand">
      <img style="height:100%;width:100%" src="./img/moappi-mock.png"></div>
  </div>
  <div class="isotope-control isotope-item" style="position: absolute; left: 0px; top: 0px; -webkit-transform: translate3d(520px, 260px, 0px); ">
    <div id="map-table" tile-index="3" class="height1 width2 isotope-expand">
      <div style="position: relative; ">
        <div style="position: relative; ">
          <table class="google-visualization-table-table" cellspacing="0" style="width: 510px; ">
            <tbody>
              <tr class="google-visualization-table-tr-head">
                <td class="google-visualization-table-th google-visualization-table-sorthdr">
                  Task
                  <span class="google-visualization-table-sortind"></span>
                </td>
                <td class="google-visualization-table-th google-visualization-table-sorthdr">
                  Hours per Day
                  <span class="google-visualization-table-sortind"></span>
                </td>
              </tr>
              <tr class="google-visualization-table-tr-even">
                <td class="google-visualization-table-td">Work</td>
                <td class="google-visualization-table-td google-visualization-table-td-number">11</td>
              </tr>
              <tr class="google-visualization-table-tr-odd">
                <td class="google-visualization-table-td">Eat</td>
                <td class="google-visualization-table-td google-visualization-table-td-number">2</td>
              </tr>
              <tr class="google-visualization-table-tr-even">
                <td class="google-visualization-table-td">Commute</td>
                <td class="google-visualization-table-td google-visualization-table-td-number">2</td>
              </tr>
              <tr class="google-visualization-table-tr-odd">
                <td class="google-visualization-table-td">Watch TV</td>
                <td class="google-visualization-table-td google-visualization-table-td-number">2</td>
              </tr>
              <tr class="google-visualization-table-tr-even">
                <td class="google-visualization-table-td">Sleep</td>
                <td class="google-visualization-table-td google-visualization-table-td-number">7</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div></body></html>